import{j as l}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.DYrVU9rO.js";function C({count:f=12,color:a="cyan",minSize:r=2,maxSize:u=4,minDuration:o=20,maxDuration:d=40,opacity:p=.15,enabled:w=!0,enableParallax:y=!1,parallaxSpeed:x=.3}){const[M,v]=t.useState(!1),[g,c]=t.useState(!1),[h,m]=t.useState(!1),[E,$]=t.useState(0);t.useEffect(()=>{if(typeof window>"u")return;const e=window.matchMedia("(min-width: 640px)");c(e.matches);const n=i=>c(i.matches);return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},[]),t.useEffect(()=>{if(typeof window>"u")return;const e=window.matchMedia("(prefers-reduced-motion: reduce)");m(e.matches);const n=i=>m(i.matches);return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},[]),t.useEffect(()=>{requestAnimationFrame(()=>v(!0))},[]);const s=y&&!h;t.useEffect(()=>{if(!s)return;const e=()=>$(window.scrollY);return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[s]);const L=t.useMemo(()=>Array.from({length:f},(e,n)=>({id:n,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,size:r+Math.random()*(u-r),duration:o+Math.random()*(d-o),delay:Math.random()*-d,xOffset:30+Math.random()*50,yOffset:50+Math.random()*100,parallaxMultiplier:.5+Math.random()*1.5})),[f,r,u,o,d]),j=t.useMemo(()=>{switch(a){case"cyan":return"rgb(34, 211, 238)";case"white":return"rgb(255, 255, 255)";default:return a}},[a]);return!w||!g||h?null:l.jsx("div",{"aria-hidden":"true",className:`fixed inset-0 z-0 pointer-events-none overflow-hidden transition-opacity duration-1000 ${M?"opacity-100":"opacity-0"}`,children:L.map(e=>{const n=s?E*x*e.parallaxMultiplier:0;return l.jsx("div",{className:"absolute",style:{left:e.left,top:e.top,transform:s?`translateY(${-n}px)`:void 0},children:l.jsx("div",{className:"rounded-full",style:{width:`${e.size}px`,height:`${e.size}px`,backgroundColor:j,animation:`floatParticle ${e.duration}s ease-in-out infinite`,animationDelay:`${e.delay}s`,"--x-offset":`${e.xOffset}px`,"--y-offset":`${e.yOffset}px`,"--particle-opacity":p}})},e.id)})})}export{C as default};
